{"version":3,"sources":["redux/adsReducer.ts","redux/reduxStore.js","components/Ads/Ads.jsx","redux/adsSelectors.js","components/Ads/AdsContainer.jsx","utils/Time.jsx","App.js","index.js","components/Ads/Ads.module.css"],"names":["adJson","require","FOLLOW_ROOM","UNFOLLOW_ROOM","actions","roomId","type","SET_ROOMS","initialState","rooms","adsReducer","state","action","map","room","id","followed","createStore","combineReducers","applyMiddleware","compose","store","adsPage","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","_store_","Ads","followAd","unfollowAd","requestRooms","props","length","className","styles","adPage","r","ad","danger","shape","onClick","CloseOutlined","ghost","PushpinOutlined","newTitile","attributes","title","address","city","street","house","area","unit","relationships","last_name","first_name","middle_name","getRooms","AdsContainer","this","React","Component","connect","dispatch","setRooms","response","Time","useState","Date","toLocaleString","time","setTime","useEffect","interval","setInterval","clearInterval","Header","Layout","Content","Footer","App","theme","mode","style","padding","path","render","textAlign","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1b9b644a.chunk.js","sourcesContent":["const adJson = require('../api/entities.json')\n\nconst FOLLOW_ROOM = 'ads/FOLLOW_ROOM';\nconst UNFOLLOW_ROOM = 'ads/UNFOLLOW_ROOM';\n\nexport const actions = {\n    followRoomSuccess: (roomId: number) => ({type: FOLLOW_ROOM, roomId} as const),\n    unfollowRoomSuccess: (roomId: number) => ({type: UNFOLLOW_ROOM, roomId} as const)\n}\n\nexport const followAd = (roomId: number) => {\n    return (dispatch: any) => {\n        dispatch(actions.followRoomSuccess(roomId))\n    }\n}\n\nexport const unfollowAd = (roomId: number) => {\n    return (dispatch: any) => {\n        dispatch(actions.unfollowRoomSuccess(roomId))\n    }\n}\nconst setRooms = (rooms: Array<RoomsType>) => ({type: SET_ROOMS, rooms})\nconst SET_ROOMS = 'ads/SET_ROOMS';\n\nexport const requestRooms = () => {\n    return (dispatch: any) => {\n        const rooms = adJson.response\n        dispatch(setRooms(rooms))\n    }\n}\n\nlet initialState = {\n    rooms: [] as Array<RoomsType>\n}\n\ntype InitialStateType = typeof initialState\n\ntype RoomsType = {\n    type: string,\n    id: number,\n    attributes: {\n        title: string,\n        rooms: number,\n        address: {\n            city: string,\n            street: string,\n            house: string,\n            room: string\n        },\n        area: number,\n        unit: string\n    },\n    relationships: {\n        type: string,\n        id: number,\n        attributes: {\n            first_name: string,\n            last_name: string,\n            middle_name: string\n        }\n    }\n}\n\nconst adsReducer = (state = initialState, action: any): InitialStateType => {\n\n    switch (action.type) {\n        case SET_ROOMS:\n            return {...state, rooms: action.rooms}\n        case FOLLOW_ROOM:\n            return {\n                ...state,\n                rooms: state.rooms.map(room => {\n                    if (room.id === action.roomId) {\n                        return {...room, followed: true}\n                    }\n                    return room;\n                })\n            }\n        case UNFOLLOW_ROOM:\n            return {\n                ...state,\n                rooms: state.rooms.map(room => {\n                    if (room.id === action.roomId) {\n                        return {...room, followed: false}\n                    }\n                    return room;\n                })\n            }\n        default:\n            return state\n    }\n}\n\nexport default adsReducer","import adsReducer from './adsReducer';\n\nimport thunkMiddleware from 'redux-thunk';\n\nconst {createStore, combineReducers, applyMiddleware, compose} = require(\"redux\");\n\nlet reducers = combineReducers({\n    adsPage: adsReducer\n})\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow._store_ = store\n\nexport default store","import React from 'react';\n\nimport {CloseOutlined, PushpinOutlined} from \"@ant-design/icons\"\nimport {Button} from \"antd\";\n\nimport styles from './Ads.module.css'\n\nconst Ads = ({followAd, unfollowAd, requestRooms, ...props}) => {\n\n    if (props.rooms.length === 0) {\n        requestRooms()\n    }\n\n    return (<div className={styles.adPage}>\n\n            {props.rooms.map(r =>\n                <div key={r.id} className={styles.ad}>\n                    {<div>\n                        {r.followed\n                            ? <Button danger shape={'round'} onClick={() => {\n                                unfollowAd(r.id)\n                            }}> <CloseOutlined/>Удалить из избранного</Button>\n                            : <Button type={'primary'} shape={'round'} ghost onClick={() => {\n                                followAd(r.id)\n                            }}> <PushpinOutlined/>Добавить в избранное</Button>}\n                    </div>\n                    }\n                    <div className={styles.newTitile}>{`Номер объявления:  ${r.id}`}</div>\n                    <div className={styles.newTitile}><b>Описание объявления:</b>\n                        <div>{r.type === 'flat' && 'Квартира'} {`${r.attributes.title}`}</div>\n                        <div>{`Количество комнат: ${r.attributes.rooms}`}</div>\n                    </div>\n                    <div className={styles.newTitile}>\n                        <b>Информация о доме:</b>\n                        <div>{r.attributes.address.city === 'Tyumen' && 'город Тюмень'}</div>\n                        <div>улица {r.attributes.address.street}</div>\n                        <div>Номер дома: {r.attributes.address.house}</div>\n                        <div>Номер квартиры: {r.attributes.address.room}</div>\n                        <div>Площадь квартиры: {r.attributes.area} {r.attributes.unit}</div>\n                    </div>\n\n                    <div className={styles.newTitile}>\n                        <b>Информация о продавце:</b>\n                        <div>{r.relationships.type === 'agent' && 'Агентство'}</div>\n                        <div>Номер агента: {r.relationships.id}</div>\n                        <div>{`Имя агента:\n                     ${r.relationships.attributes.last_name} \n                    ${r.relationships.attributes.first_name}  \n                     ${r.relationships.attributes.middle_name}`}\n                        </div>\n                    </div>\n                </div>)}\n        </div>\n    )\n\n}\n\nexport default Ads;","export const getRooms = (state) => {\n    return state.adsPage.rooms\n}\n","import React from 'react';\nimport {compose} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {requestRooms, followAd, unfollowAd} from '../../redux/adsReducer';\nimport Ads from './Ads';\nimport {getRooms} from '../../redux/adsSelectors';\n\nclass AdsContainer extends React.Component {\n\n    render() {\n        return <>\n            <Ads\n                requestRooms={this.props.requestRooms}\n                rooms={this.props.getRooms}\n                followAd={this.props.followAd}\n                unfollowAd={this.props.unfollowAd}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        getRooms: getRooms(state),\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {requestRooms, followAd, unfollowAd})\n)(AdsContainer)\n","import React, {useEffect, useState} from \"react\";\n\nexport function Time() {\n    const [time, setTime] = useState(new Date().toLocaleString())\n\n    useEffect(() => {\n        const interval = setInterval(() => setTime(new Date().toLocaleString()), 1000)\n\n        return () => clearInterval(interval)\n    }, [])\n\n    return <p>Дата и время сейчас: {time}</p>\n}","import React from 'react';\nimport {Route, BrowserRouter} from 'react-router-dom';\nimport {Layout, Menu} from 'antd';\n\nimport AdsContainer from './components/Ads/AdsContainer';\nimport {Time} from \"./utils/Time\";\n\nimport 'antd/dist/antd.css';\nimport './App.css';\n\nconst {Header, Content, Footer} = Layout;\n\nclass App extends React.Component {\n  render() {\n    return (\n        <BrowserRouter>\n          <Layout className=\"layout\">\n            <Header>\n              <Menu theme=\"dark\" mode=\"horizontal\">\n                <Time/>\n              </Menu>\n            </Header>\n            <Content style={{padding: '0 50px'}}>\n              <div className=\"site-layout-content\">\n                <Route path='/'\n                       render={() => <AdsContainer\n                       />}\n                />\n              </div>\n            </Content>\n            <Footer style={{textAlign: 'center'}}>Vladimir L. for Crtweb</Footer>\n          </Layout>\n        </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from './redux/reduxStore';\n\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adPage\":\"Ads_adPage__2ASS8\",\"ad\":\"Ads_ad__2GZJd\",\"newTitile\":\"Ads_newTitile__3r3Q2\"};"],"sourceRoot":""}